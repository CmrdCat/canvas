(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+Qrm":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),i=n("L12J"),c=(n("ixYC"),n("L2R5"));t.default=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,r.a.createElement(c.a,null)))}},L2R5:function(e,t,n){"use strict";var a=n("o0o1"),r=n.n(a),i=(n("ls82"),n("HaE+")),c=n("q1tI"),o=n.n(c),l=n("Jgta"),s=n("i8i4"),u=n.n(s),d=(n("5x/H"),n("6nsN"),n("WI49"),n("+oFf")),p=n.n(d),f=function(e){var t=e.bgImage,a=e.fbData,s=e.setTable,d=e.blockedTables,f=Object(c.useState)(0),h=f[0],b=f[1],v=Object(c.useState)(0),m=v[0],g=v[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(i.a)(r.a.mark((function e(){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.a.storage(),a=n.ref(),a.child(""+t).getDownloadURL().then((function(e){b(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.database().ref("saved-tables").once("value").then((function(e){return e.val()}));case 2:t=e.sent,g(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),n()}),[]),0!==h&&0!==m&&(!function(){var e;p.a||(e=n("IqKQ")),console.log(e),console.log("blockedTables: ",d);var t=document.getElementById("canvasWrapper"),r=new e.Application({width:1e3,height:620,backgroundColor:6011503});t.innerHTML="",t.appendChild(r.view);var i=e.Texture.from(h),c=new e.Sprite(i);if(r.stage.addChild(c),c.width=r.screen.width,c.height=r.screen.height,null!==m){var o;m.map((function(t){var n=new e.Container;n.type="container",n.x=t.x,n.y=t.y;var i=e.Texture.from(t.texture),c=new e.Sprite(i);c.type="table",c.index=t.index,c.id=t.id,c.uniqueId=t.uniqueId,c.info=t.info,c.anchor.set(.5),c.scale.x=t.scaleX,c.scale.y=t.scaleY,c.rotation=t.rotation,d.includes(c.uniqueId)?(c.buttonMode=!1,c.interactive=!1,c.tint=13421772,c.alpha=.2):(c.buttonMode=!0,c.interactive=!0,c.tint=8421504,c.alpha=.7),n.addChild(c),c.on("pointertap",(function(e){o&&(o.tint=8421504,o.alpha=.7),(o=e.target).tint=16777215,o.alpha=1,a.forEach((function(e){if(c.id===e.id){var t=e.description,n=e.price;document.getElementById("tableInfo").innerHTML="\n                           <p>Table â„–:"+c.index+"</p>\n                           <p>Description:"+t+"</p>\n                           <p>Table price:"+n+"</p>\n                        "}})),s(c.uniqueId)}));var l=new e.Text(t.index,{font:"2rem",fill:0,align:"center",cacheAsBitmap:!0});l.type="text",l.anchor.set(.5),n.addChild(l),r.stage.addChild(n)}))}else{var l=new e.Text("Sorry, it is not possible to book a table at the moment. \nPlease contact the administrator",{font:"2rem",fill:16777215,align:"center",cacheAsBitmap:!0});l.width=800,l.height=150,l.type="text",l.anchor.set(.5),l.x=r.screen.width/2,l.y=r.screen.height/2,c.tint=9934743,c.addChild(l)}localStorage.getItem("state")||u.a.render(t,document.getElementById("canvasWrapper"))}(),localStorage.setItem("state","loaded")),o.a.createElement(o.a.Fragment,null)};n("Zs65"),t.a=function(e){var t=e.setTable,n=e.blockedTables,a=Object(c.useState)(0),s=a[0],u=a[1];return Object(c.useEffect)((function(){(function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.database().ref("CanvasPreset").once("value").then((function(e){return e.val()}));case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),o.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.a.createElement("div",{id:"canvasWrapper"},s&&document.getElementById("canvasWrapper")?o.a.createElement(f,{bgImage:s.bgImage,fbData:s.tables,setTable:t,blockedTables:n}):"false"),o.a.createElement("div",null,o.a.createElement("div",{id:"tableInfo"})))}},ixYC:function(e,t,n){}}]);
//# sourceMappingURL=component---src-pages-user-panel-jsx-de2d3c156ca08708c5fb.js.map