{"version":3,"sources":["webpack:///./src/images/canvas/floorPlan.png","webpack:///./src/core/firebase.js","webpack:///./node_modules/reactstrap/es/Spinner.js","webpack:///./src/components/canvas/ButtonItem.jsx","webpack:///./src/components/canvas/AdminTableRender.jsx","webpack:///./src/components/canvas/AdminPanelTableRender.jsx","webpack:///./src/pages/adminPanel.jsx"],"names":["module","exports","firebaseConfig","apiKey","process","FIREBASE_API_KEY","authDomain","FIREBASE_AUTH_DOMAIN","databaseURL","projectId","FIREBASE_PROJECT_ID","storageBucket","FIREBASE_STORAGE_BUCKET","messagingSenderId","FIREBASE_MESSAGING_SENDER_ID","appId","FIREBASE_APP_ID","firebase","fb","apps","length","app","initializeApp","Spinner","props","className","cssModule","type","size","color","children","Tag","tag","attributes","classes","createElement","role","defaultProps","ButtonItem","image","id","mode","useState","answer","setData","useEffect","a","storage","storageRef","ref","child","getDownloadURL","then","result","fetchData","divStyle","backgroundImage","name","value","onChange","localStorage","setItem","JSON","stringify","htmlFor","style","AdminTableRender","currentContainer","currentTable","bgImage","loadedTables","loadTables","useRef","load","database","once","snapshot","val","PIXI","saveStage","tables","items","stage","filter","el","arr","map","underEl","console","log","obj","index","x","y","scaleX","scale","scaleY","rotation","transform","texture","_texture","textureCacheIds","uniqueId","push","set","isNode","require","getItem","removeItem","document","getElementById","checked","Application","width","height","backgroundColor","bg","Image","crossOrigin","src","Texture","from","backgroundImage2","background","Sprite","addChild","screen","current","appendChild","view","mousePosition","Point","addEventListener","ev","preventDefault","rightMouse","onmousedown","which","onmouseup","container","Container","interactive","buttonMode","table","anchor","info","on","e","deltaY","tint","event","data","alpha","dragging","newPosition","getLocalPosition","parent","target","text","Text","font","fill","align","cacheAsBitmap","onmousewheel","layerX","layerY","found","renderer","plugins","interaction","hitTest","emit","saveButton","removeButton","removeChild","undefined","onclick","currentMode","parse","Date","now","ReactDOM","render","canvas","createCanvas","AdminPanelTableRender","fbData","setfbData","key","cursorImage","ind","tableImages"],"mappings":"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","file":"component---src-pages-admin-panel-jsx-f346883e764e48d80a9b.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/floorPlan-88e21ad3a95302f2249fb07172c4ae57.png\";","// import firebase from 'firebase/app';\n// import 'firebase/database';\n// import 'firebase/auth';\nimport fb from 'firebase/app';\n\nconst firebaseConfig = {\n  apiKey: process.env.FIREBASE_API_KEY,\n  authDomain: process.env.FIREBASE_AUTH_DOMAIN,\n  databaseURL: 'https://terassa-project-default-rtdb.europe-west1.firebasedatabase.app',\n  projectId: process.env.FIREBASE_PROJECT_ID,\n  storageBucket: process.env.FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.FIREBASE_APP_ID,\n};\n\nexport const firebase = !fb.apps.length ? fb.initializeApp(firebaseConfig) : fb.app();\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar defaultProps = {\n  tag: 'div',\n  type: 'border',\n  children: 'Loading...'\n};\n\nvar Spinner = function Spinner(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      type = props.type,\n      size = props.size,\n      color = props.color,\n      children = props.children,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"type\", \"size\", \"color\", \"children\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, size ? \"spinner-\" + type + \"-\" + size : false, \"spinner-\" + type, color ? \"text-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({\n    role: \"status\"\n  }, attributes, {\n    className: classes\n  }), children && /*#__PURE__*/React.createElement(\"span\", {\n    className: mapToCssModules('sr-only', cssModule)\n  }, children));\n};\n\nSpinner.defaultProps = defaultProps;\nexport default Spinner;","/* eslint-disable */\nimport React, { useState, useEffect } from 'react';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/storage';\n\nconst ButtonItem = ({\n  image, id, mode\n}) => {\n  const [answer, setData] = useState(0);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const storage = firebase.storage();\n      const storageRef = storage.ref();\n      const imgURL = storageRef.child(`${image}`);\n      // Get the download URL\n      imgURL.getDownloadURL().then((result) => {\n        setData(result);\n      });\n    };\n    fetchData();\n  }, []);\n\n  const divStyle = {\n    backgroundImage: `url('${answer}')`,\n  };\n\n  return (\n    <>\n      <input\n        type=\"radio\"\n        id={id}\n        name=\"chooseMode\"\n        value={image}\n        mode={mode}\n        className=\"button-input\"\n        onChange={() => localStorage.setItem('currentMode', JSON.stringify(({ 'image': answer, mode, id })))}\n      />\n      <label htmlFor={id} >\n        <div className=\"chooseModeButton\" style={divStyle} />\n      </label>\n    </>\n  );\n};\n\n// localStorage.setItem('currentMode', JSON.stringify(({ 'image': answer, mode })))\n\nexport default ButtonItem;\n","/* eslint-disable */\r\nimport React, { useRef, useEffect, useState } from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage';\r\nimport isNode from 'detect-node'\r\n\r\nimport plan from '../../images/canvas/floorPlan.png'\r\n\r\nconst AdminTableRender = ({ \r\n    bgImage\r\n  }) => {\r\n\r\n  const [answer, setData] = useState(0);\r\n  const [loadedTables, loadTables] = useState(0);\r\n  const ref = useRef(null);\r\n  let currentContainer;\r\n  let currentTable;\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const storage = firebase.storage();\r\n      const storageRef = storage.ref();\r\n      const imgURL = storageRef.child(`${bgImage}`);\r\n      // Get the download URL\r\n      imgURL.getDownloadURL().then((result) => {\r\n        setData(result);\r\n      });\r\n    };\r\n    const load = async () => {\r\n      const result = await firebase.database().ref('saved-tables').once('value').then((snapshot) => snapshot.val());\r\n      loadTables(result);\r\n    };\r\n    fetchData();\r\n    load();\r\n  }, []);\r\n\r\n  function createCanvas() {\r\n    let PIXI\r\n    if (!isNode) {\r\n      PIXI = require('pixi.js')\r\n    }\r\n    console.log(PIXI)\r\n    if (localStorage.getItem('currentMode')) {\r\n      localStorage.removeItem('currentMode');\r\n    }\r\n    document.getElementById('0').checked = 'true'\r\n    function removeChild() {\r\n      if (currentContainer) {\r\n        app.stage.removeChild(currentContainer)\r\n        currentContainer = undefined\r\n      }\r\n      \r\n    }\r\n    function writeNewAdditions(tables) {\r\n      firebase.database().ref('saved-tables').set(tables);\r\n    }\r\n\r\n    function saveStage() {\r\n      const items = app.stage.children.filter((el) => el.type === 'container');\r\n\r\n      const arr = [];\r\n\r\n      items.map(el => {\r\n        el.children.map(underEl => {\r\n          if (underEl.type === 'table') {\r\n            console.log(underEl)\r\n            const obj = {}\r\n            obj.index = underEl.index;\r\n            obj.x = el.x;\r\n            obj.y = el.y;\r\n            obj.scaleX = underEl.scale.x;\r\n            obj.scaleY = underEl.scale.y;\r\n            obj.rotation = underEl.transform.rotation;\r\n            obj.texture = underEl._texture.textureCacheIds[0];\r\n            obj.uniqueId = underEl.uniqueId;\r\n            obj.id = underEl.id;\r\n            arr.push(obj)\r\n          }\r\n        })\r\n      })\r\n\r\n      localStorage.setItem('tables', JSON.stringify(arr));\r\n      localStorage.setItem('bgImage', answer);\r\n      writeNewAdditions(arr)\r\n    }\r\n    const app = new PIXI.Application({\r\n      width: 1000,\r\n      height: 620,\r\n      backgroundColor: 0x5BBA6F,\r\n    });\r\n\r\n    console.log(bgImage)\r\n    let bg = new Image();\r\n    bg.crossOrigin = \"\";\r\n    bg.src = answer; \r\n\r\n    console.log(bg)\r\n\r\n    console.log(bg)\r\n    \r\n    const backgroundImage = PIXI.Texture.from(`http://crossorigin.me/${answer}`);\r\n    const backgroundImage2 = PIXI.Texture.from(answer);\r\n    console.log('backgroundImage: ', backgroundImage);\r\n    console.log('backgroundImage2: ', backgroundImage2);\r\n    // const backgroundImage = PIXI.Texture.from(bgImage);\r\n    const background = new PIXI.Sprite(backgroundImage);\r\n    app.stage.addChild(background);\r\n    background.width = app.screen.width;\r\n    background.height = app.screen.height;\r\n\r\n    ref.current.appendChild(app.view)\r\n\r\n    const mousePosition = new PIXI.Point();\r\n\r\n    app.view.addEventListener('contextmenu', (ev) => {\r\n      ev.preventDefault();\r\n    }, false);\r\n\r\n    app.rightMouse = false;\r\n    app.view.onmousedown = (ev) => {\r\n      if (ev.which === 3) {\r\n        app.rightMouse = true;\r\n      }\r\n    };\r\n    app.view.onmouseup = (ev) => {\r\n      if (ev.which === 3) {\r\n        app.rightMouse = false;\r\n      }\r\n    };\r\n\r\n    if (loadedTables !== null) {\r\n      loadedTables.map(el => {\r\n        const container = new PIXI.Container();\r\n        container.type = 'container'\r\n        container.interactive = true;\r\n        container.buttonMode = true;\r\n\r\n        container.x = el.x;\r\n        container.y = el.y;\r\n\r\n        const texture = PIXI.Texture.from(el.texture)\r\n        const table = new PIXI.Sprite(texture);\r\n        table.type = 'table'\r\n\r\n        table.anchor.set(0.5);\r\n        table.scale.x = el.scaleX;\r\n        table.scale.y = el.scaleY;\r\n        table.rotation = el.rotation;\r\n        table.index = el.index;\r\n        table.info = el.info;\r\n        table.id = el.id\r\n        table.uniqueId = el.uniqueId;\r\n\r\n        table.buttonMode = true;\r\n        table.interactive = true;\r\n\r\n        table\r\n          .on('scroll', (e) => {\r\n            if (app.rightMouse) {\r\n              if (e.deltaY > 0) {\r\n                table.rotation += 0.261799;\r\n                if (table.rotation > 6.28) {\r\n                  table.rotation = 0;\r\n                }\r\n              } else {\r\n                table.rotation -= 0.261799;\r\n                if (table.rotation < -6.28) {\r\n                  table.rotation = 0;\r\n                }\r\n              }\r\n            }\r\n          });\r\n        container.addChild(table)\r\n\r\n        container\r\n          .on('pointerover', () => {\r\n            if (currentContainer != container) {\r\n              table.tint = 0x828272;\r\n            }\r\n          })\r\n          .on('pointerout', () => {\r\n            if (currentContainer != container) {\r\n              table.tint = 0xFFFFFF;\r\n            }\r\n          })\r\n          .on('pointerdown', (event) => {\r\n            container.data = event.data;\r\n            container.alpha = 0.5;\r\n            container.dragging = true;\r\n          })\r\n          .on('pointerup', () => {\r\n            container.alpha = 1;\r\n            container.dragging = false;\r\n            container.data = null;\r\n          })\r\n          .on('pointerupoutside', () => {\r\n            container.alpha = 1;\r\n            container.dragging = false;\r\n            container.data = null;\r\n          })\r\n          .on('pointermove', () => {\r\n            if (container.dragging) {\r\n              const newPosition = container.data.getLocalPosition(container.parent);\r\n              container.x = newPosition.x;\r\n              container.y = newPosition.y;\r\n            }\r\n          })\r\n          .on('pointertap', (ev) => {\r\n            if (currentTable) {\r\n              currentTable.tint = 0xFFFFFF;\r\n            }\r\n            currentContainer = ev.target.parent;\r\n            currentTable = ev.target;\r\n            currentTable.tint = 0xFF0000;\r\n          });\r\n\r\n        const text = new PIXI.Text(table.index,\r\n          {\r\n            font: '2rem',\r\n            fill: 0x000000,\r\n            align: 'center',\r\n            cacheAsBitmap: true,\r\n          });\r\n        text.type = 'text'\r\n        text.anchor.set(0.5);\r\n        container.addChild(text);\r\n\r\n        app.stage.addChild(container)\r\n      })\r\n    }\r\n\r\n    app.view.onmousewheel = (ev) => {\r\n      mousePosition.set(ev.layerX, ev.layerY);\r\n      const found = app.renderer.plugins.interaction.hitTest(\r\n        mousePosition,\r\n        app.stage,\r\n      );\r\n      if (found) {\r\n        found.emit('scroll', ev);\r\n      }\r\n    };\r\n\r\n    const saveButton = new PIXI.Text('Save',\r\n      {\r\n        font: '4rem',\r\n        fill: 0x000000,\r\n        align: 'center',\r\n        cacheAsBitmap: true,\r\n      });\r\n    saveButton.interactive = true;\r\n    saveButton.buttonMode = true;\r\n    saveButton.type = 'button';\r\n    saveButton.anchor.set(0.5);\r\n    saveButton.x = 40\r\n    saveButton.y = 20\r\n    saveButton\r\n      .on('pointertap', () => {\r\n        saveStage();\r\n      });\r\n    app.stage.addChild(saveButton);\r\n    const removeButton = new PIXI.Text('Remove',\r\n      {\r\n        font: '4rem',\r\n        fill: 0x000000,\r\n        align: 'center',\r\n        cacheAsBitmap: true,\r\n      });\r\n    removeButton.interactive = true;\r\n    removeButton.buttonMode = true;\r\n    removeButton.type = 'button';\r\n    removeButton.anchor.set(0.5);\r\n    removeButton.x = 40\r\n    removeButton.y = 50\r\n    removeButton\r\n      .on('pointertap', () => {\r\n        removeChild();\r\n      });\r\n    app.stage.addChild(removeButton);\r\n\r\n    app.view.onclick = (ev) => {\r\n      const currentMode = JSON.parse(localStorage.getItem('currentMode'))\r\n        mousePosition.set(ev.layerX, ev.layerY);\r\n        const found = app.renderer.plugins.interaction.hitTest(\r\n          mousePosition,\r\n          app.stage,\r\n        );\r\n        if (!found) {\r\n          if (currentMode && currentMode.mode === 'cursor') {\r\n            if (currentTable) {\r\n              currentTable.tint = 0xFFFFFF;\r\n            }\r\n            currentContainer = null;\r\n            currentTable = null;\r\n          }\r\n          if (currentMode && currentMode.mode === 'create') {\r\n          const container = new PIXI.Container();\r\n          container.type = 'container';\r\n          container.interactive = true;\r\n          container.buttonMode = true;\r\n\r\n          container.x = ev.layerX;\r\n          container.y = ev.layerY;\r\n\r\n          const texture = PIXI.Texture.from(currentMode.image)\r\n          const table = new PIXI.Sprite(texture);\r\n          table.type = 'table';\r\n          table.id = currentMode.id\r\n          table.uniqueId = Date.now()\r\n\r\n          table.anchor.set(0.5);\r\n          table.scale.set(0.7);\r\n\r\n          table.buttonMode = true;\r\n          table.interactive = true;\r\n\r\n          table\r\n            .on('scroll', (e) => {\r\n              if (app.rightMouse) {\r\n                if (e.deltaY > 0) {\r\n                  table.rotation += 0.261799;\r\n                  if (table.rotation > 6.28) {\r\n                    table.rotation = 0;\r\n                  }\r\n                } else {\r\n                  table.rotation -= 0.261799;\r\n                  if (table.rotation < -6.28) {\r\n                    table.rotation = 0;\r\n                  }\r\n                }\r\n              } \r\n            });\r\n\r\n          table.index = app.stage.children.length - 2;\r\n          container.addChild(table);\r\n\r\n          container\r\n            .on('pointerover', () => {\r\n              if (currentContainer != container) {\r\n                table.tint = 0x828272;\r\n              }\r\n            })\r\n            .on('pointerout', () => {\r\n              if (currentContainer != container) {\r\n                table.tint = 0xFFFFFF;\r\n              }\r\n            })\r\n            .on('pointerdown', (event) => {\r\n              container.data = event.data;\r\n              container.alpha = 0.5;\r\n              container.dragging = true;\r\n            })\r\n            .on('pointerup', () => {\r\n              container.alpha = 1;\r\n              container.dragging = false;\r\n              container.data = null;\r\n            })\r\n            .on('pointerupoutside', () => {\r\n              container.alpha = 1;\r\n              container.dragging = false;\r\n              container.data = null;\r\n            })\r\n            .on('pointermove', () => {\r\n              if (container.dragging) {\r\n                const newPosition = container.data.getLocalPosition(container.parent);\r\n                container.x = newPosition.x;\r\n                container.y = newPosition.y;\r\n              }\r\n            })\r\n            .on('pointertap', (ev) => {\r\n              if (currentTable) {\r\n                currentTable.tint = 0xFFFFFF;\r\n              }\r\n              currentContainer = ev.target.parent;\r\n              currentTable = ev.target;\r\n              currentTable.tint = 0xFF0000;\r\n            });\r\n\r\n          \r\n\r\n          const text = new PIXI.Text(table.index,\r\n            {\r\n              font: '2rem',\r\n              fill: 0x000000,\r\n              align: 'center',\r\n              cacheAsBitmap: true,\r\n            });\r\n          text.type = 'text';\r\n          text.anchor.set(0.5);\r\n          container.addChild(text);\r\n\r\n          app.stage.addChild(container);\r\n\r\n          if (!localStorage.getItem('state')){\r\n            ReactDOM.render(canvas, document.getElementById('canvasWrapper'))\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  if (answer !== 0 && loadedTables !== 0) {\r\n      createCanvas()\r\n      localStorage.setItem('state','loaded')\r\n    } \r\n\r\n  return <>\r\n    <div ref={ref}></div>\r\n  </>;\r\n}\r\n\r\nexport default AdminTableRender","/* eslint-disable */\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport {firebase} from '../../core/firebase';\r\nimport ButtonItem from './ButtonItem';\r\nimport AdminTableRender from './AdminTableRender';\r\nimport 'firebase/database';\r\nimport { Spinner } from 'reactstrap';\r\n\r\n\r\nconst AdminPanelTableRender = () => {\r\n\r\n  const [fbData, setfbData] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const result = await firebase.database().ref('CanvasPreset').once('value').then((snapshot) => snapshot.val());\r\n      setfbData(result);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {typeof fbData === 'object' ? (\r\n        <>\r\n          <div>\r\n            <ButtonItem key={0} id={0} image={fbData.cursorImage} mode={'cursor'} />\r\n            {fbData.tables.map((el, ind) => (\r\n              <ButtonItem key={ind + 1} id={el.id} image={el.image} mode={'create'} />\r\n            ))}\r\n          </div>\r\n          <AdminTableRender bgImage={fbData.bgImage} tableImages={fbData.tables} cursorImage={fbData.cursorImage} />\r\n        </>\r\n      ) : (\r\n          <>\r\n            <Spinner color=\"primary\" />\r\n            <span>Loading data...</span>\r\n          </>\r\n        )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminPanelTableRender;\r\n","import React from 'react';\nimport Layout from '../components/layout';\nimport '../styles/canvas.scss';\nimport AdminPanelTableRender from '../components/canvas/AdminPanelTableRender';\n\nexport default () => (\n  <>\n    <Layout>\n      <AdminPanelTableRender />\n    </Layout>\n  </>\n);\n"],"sourceRoot":""}