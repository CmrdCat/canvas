{"version":3,"sources":["webpack:///./node_modules/reactstrap/es/FormGroup.js","webpack:///./node_modules/reactstrap/es/Label.js","webpack:///./src/components/additional/additionGroup.jsx","webpack:///./src/components/additional/options.jsx","webpack:///./src/components/additional/basketElement.jsx","webpack:///./src/components/additional/basket.jsx","webpack:///./src/core/api.js","webpack:///./src/pages/book.jsx","webpack:///./node_modules/@react-icons/all-files/vsc/VscDebugContinue.js","webpack:///./src/components/canvas/UserTableRender.jsx","webpack:///./src/components/canvas/UserPanelTableRender.jsx","webpack:///./node_modules/reactstrap/es/Input.js","webpack:///./node_modules/reactstrap/es/Spinner.js","webpack:///./node_modules/@react-icons/all-files/ai/AiOutlineCloseCircle.js","webpack:///./node_modules/@react-icons/all-files/io/IoIosArrowUp.js"],"names":["props","className","cssModule","row","disabled","check","inline","Tag","tag","attributes","classes","createElement","defaultProps","getColumnSizeClass","isXs","colWidth","colSize","hidden","widths","size","htmlFor","for","colClasses","forEach","i","columnProp","colClass","_classNames","colSizeInterfix","push","order","offset","length","AdditionGroup","groupName","groupElements","addAdditional2","map","item","key","name","weight","img","description","cost","id","addAdditional3","options","addAddition1","useState","answer","setData","useEffect","a","firebase","database","ref","once","then","snapshot","val","result","fetchData","Object","keys","Array","from","Spinner","color","basketElement","position","remover","quantityColor","quantity","join","inputArray","array","slice","sort","index","splice","console","log","transformTimeArray","time","toFixed","Button","close","onClick","AiOutlineCloseCircle","Basket","removePosition1","checkPosition","visitTime","tables","totalCost","reduce","sum","totalClasses","collapsed","setCollapsed","Date","now","numberOfOrder","setNumberOfOrder","set","type","IoIosArrowUp","DBObject","visit","parse","additions","element","data","auth","currentUser","db","userId","uid","child","saveData","VscDebugContinue","page","setPage","table","React","selectedAdditional","addElement","Input","placeholder","document","getElementById","value","store","addNotification","title","message","insert","container","animationIn","animationOut","dismiss","duration","UserPanelTableRender","blockedTables","isRepeat","positionId","removeIndex","newArray","GenIcon","module","exports","userTableRender","bgImage","fbData","setTable","loadedTables","loadTables","useRef","storage","storageRef","getDownloadURL","load","PIXI","isNode","require","app","Application","width","height","backgroundColor","current","appendChild","view","backgroundImage","Texture","background","Sprite","stage","addChild","screen","activeTable","el","Container","x","y","texture","uniqueId","info","anchor","scale","scaleX","scaleY","rotation","includes","buttonMode","interactive","tint","alpha","on","ev","target","discription","price","innerHTML","text","Text","font","fill","align","cacheAsBitmap","errorMessage","createCanvas","userPanelTableRender","setfbData","style","display","flexDirection","UserTableRender","_React$Component","_this","call","this","getRef","bind","focus","_proto","prototype","innerRef","render","_this$props","bsSize","valid","invalid","addon","plaintext","checkInput","indexOf","isNotaNumber","RegExp","formControlClass","test","children","Component","role"],"mappings":"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","file":"component---src-pages-book-jsx-45e58907b163ae0e0a62.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar FormGroup = function FormGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      row = props.row,\n      disabled = props.disabled,\n      check = props.check,\n      inline = props.inline,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"row\", \"disabled\", \"check\", \"inline\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, row ? 'row' : false, check ? 'form-check' : 'form-group', check && inline ? 'form-check-inline' : false, check && disabled ? 'disabled' : false), cssModule);\n\n  if (Tag === 'fieldset') {\n    attributes.disabled = disabled;\n  }\n\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nFormGroup.defaultProps = defaultProps;\nexport default FormGroup;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType, isObject } from './utils';\nvar colWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar defaultProps = {\n  tag: 'label',\n  widths: colWidths\n};\n\nvar getColumnSizeClass = function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : \"col-\" + colWidth;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : \"col-\" + colWidth + \"-auto\";\n  }\n\n  return isXs ? \"col-\" + colSize : \"col-\" + colWidth + \"-\" + colSize;\n};\n\nvar Label = function Label(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      hidden = props.hidden,\n      widths = props.widths,\n      Tag = props.tag,\n      check = props.check,\n      size = props.size,\n      htmlFor = props.for,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"hidden\", \"widths\", \"tag\", \"check\", \"size\", \"for\"]);\n\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var columnProp = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    var isXs = !i;\n    var colClass;\n\n    if (isObject(columnProp)) {\n      var _classNames;\n\n      var colSizeInterfix = isXs ? '-' : \"-\" + colWidth + \"-\";\n      colClass = getColumnSizeClass(isXs, colWidth, columnProp.size);\n      colClasses.push(mapToCssModules(classNames((_classNames = {}, _classNames[colClass] = columnProp.size || columnProp.size === '', _classNames[\"order\" + colSizeInterfix + columnProp.order] = columnProp.order || columnProp.order === 0, _classNames[\"offset\" + colSizeInterfix + columnProp.offset] = columnProp.offset || columnProp.offset === 0, _classNames))), cssModule);\n    } else {\n      colClass = getColumnSizeClass(isXs, colWidth, columnProp);\n      colClasses.push(colClass);\n    }\n  });\n  var classes = mapToCssModules(classNames(className, hidden ? 'sr-only' : false, check ? 'form-check-label' : false, size ? \"col-form-label-\" + size : false, colClasses, colClasses.length ? 'col-form-label' : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({\n    htmlFor: htmlFor\n  }, attributes, {\n    className: classes\n  }));\n};\n\nLabel.defaultProps = defaultProps;\nexport default Label;","/* eslint-disable */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Card from './card';\r\nimport 'firebase/database';\r\n\r\nconst AdditionGroup = ({ groupName, groupElements, addAdditional2 }) => {\r\n  return (\r\n    <>\r\n      <div className=\"additional-group w-100 pb-4 pt-4\">\r\n        <h2 className=\"pl-4 group-title mb-0\">{groupName}</h2>\r\n        <div className=\"additional-group-wrapper d-flex flex-wrap\">\r\n          {groupElements.map((item) => (\r\n            <Card\r\n              key={`key${item.name}`}\r\n              name={item.name}\r\n              weight={item.weight}\r\n              img={item.img}\r\n              description={item.description}\r\n              cost={item.cost}\r\n              id={item.id}\r\n              addAdditional3={addAdditional2}\r\n              groupName={groupName}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nAdditionGroup.propTypes = {\r\n  groupName: PropTypes.string.isRequired,\r\n  groupElements: PropTypes.PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)).isRequired,\r\n  addAdditional2: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AdditionGroup;\r\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport firebase from 'firebase/app';\nimport { Spinner } from 'reactstrap';\nimport AdditionGroup from './additionGroup';\nimport 'firebase/database';\n\nconst options = ({ addAddition1 }) => {\n  const [answer, setData] = useState('error');\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await firebase\n        .database()\n        .ref('additionals')\n        .once('value')\n        .then((snapshot) => snapshot.val());\n      setData(result);\n    };\n    fetchData();\n  }, []);\n  return (\n    <>\n      <div className=\"additional-wrapper d-flex flex-wrap\">\n        {typeof answer === 'object' ? (\n          Object.keys(answer).map((groupName) => (\n            <AdditionGroup\n              key={groupName}\n              groupName={groupName}\n              groupElements={Array.from(answer[groupName])}\n              addAdditional2={addAddition1}\n            />\n          ))\n        ) : (\n          <>\n            <Spinner color=\"primary\" />\n            <span>Loading data...</span>\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\noptions.propTypes = {\n  addAddition1: PropTypes.func.isRequired,\n};\n\nexport default options;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { AiOutlineCloseCircle } from '@react-icons/all-files/ai/AiOutlineCloseCircle';\n\nconst basketElement = ({ position, remover }) => {\n  function transformTimeArray(inputArray) {\n    const array = inputArray.slice();\n    array.sort();\n    for (let index = 0; index < array.length; index += 1) {\n      if (typeof (array[index]) === 'string') {\n        array[index] = [1, array[index]];\n      }\n      if (index !== array.length - 1) {\n        if (array[index][1] === array[index + 1]) {\n          array[index][0] += 1;\n          array.splice(index + 1, 1);\n          index -= 1;\n        }\n      }\n    }\n    console.log('array: ', array);\n    return array;\n  }\n  let quantityColor = 'brown';\n  if (position.quantity === 2) {\n    quantityColor = 'blue';\n  } else if (position.quantity > 2) {\n    quantityColor = 'green';\n  }\n  return (\n    <div className=\"d-flex check-element mb-2\">\n      <div className={['check-element-quantity', quantityColor].join(' ')}>\n        {position.quantity}\n      </div>\n      <div className=\"check-element-details\">\n        <h6 className={['mb-0', quantityColor].join(' ')}>{position.name}</h6>\n        <div className=\"time-array\">\n          {\n        transformTimeArray(position.time).map((item) => (\n          <span key={item[1]} className=\"check-element-time\">\n            {item[0]}\n            {' pc. at '}\n            {item[1]}\n            {'; '}\n          </span>\n        ))\n      }\n        </div>\n        <span className=\"check-element-summary-cost\">\n          x\n          {position.cost}\n          =\n          {(position.cost * position.quantity).toFixed(1)}\n          {'$'}\n        </span>\n      </div>\n      <Button\n        close\n        className=\"ml-auto\"\n        onClick={() => {\n          remover(position.id);\n        }}\n      >\n        <AiOutlineCloseCircle />\n      </Button>\n    </div>\n  );\n};\n\nbasketElement.propTypes = {\n  // eslint-disable-next-line max-len\n  remover: PropTypes.func.isRequired,\n  position: PropTypes.objectOf(PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.oneOf([\n      PropTypes.string,\n      PropTypes.number,\n    ])),\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.number])).isRequired,\n};\n\nexport default basketElement;\n","/* eslint-disable max-len */\n/* eslint-disable jsx-a11y/control-has-associated-label */\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport firebase from 'firebase/app';\nimport 'firebase/database';\nimport { VscDebugContinue } from '@react-icons/all-files/vsc/VscDebugContinue';\nimport { IoIosArrowUp } from '@react-icons/all-files/io/IoIosArrowUp';\nimport { Button } from 'reactstrap';\n\nimport { saveData } from '../../core/api';\n\nimport BasketElement from './basketElement';\n\nconst Basket = ({\n  removePosition1, checkPosition, visitTime, tables,\n}) => {\n  let id = 1;\n  // eslint-disable-next-line max-len\n  const totalCost = checkPosition\n    .reduce((sum, item) => sum + +item.cost * item.quantity, 0)\n    .toFixed(1);\n  const totalClasses = checkPosition.length > 0 ? 'total-container not-empty' : 'total-container';\n\n  const [collapsed, setCollapsed] = useState(false);\n\n  const toggleNavbar = () => setCollapsed(!collapsed);\n\n  const [numberOfOrder, setNumberOfOrder] = useState(Date.now());\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await firebase\n        .database()\n        .ref('lastOrder')\n        .once('value')\n        .then((snapshot) => snapshot.val());\n      setNumberOfOrder(result);\n      firebase\n        .database()\n        .ref('lastOrder')\n        .set(result + 1);\n    };\n    fetchData();\n  }, []);\n\n  const onContinue = () => {\n    const DBObject = {};\n    DBObject.tables = tables;\n    DBObject.visit = Date.parse(visitTime);\n    DBObject.additions = {};\n    checkPosition.forEach((element) => {\n      DBObject.additions[element.groupName] = {\n        cost: element.cost,\n        id: element.id,\n        name: element.name,\n        quantity: element.quantity,\n        time: element.time,\n        weight: element.weight,\n      };\n    });\n    console.log(DBObject);\n    saveData(`${numberOfOrder}`, DBObject);\n  };\n\n  return (\n    <div\n      className={[collapsed ? 'open' : '', checkPosition.length ? 'not-empty-check' : ''].join(' ')}\n    >\n      <h2 className=\"pt-4\">Basket</h2>\n      <button\n        type=\"button\"\n        className=\"icon-open-mobile\"\n        onClick={() => {\n          toggleNavbar();\n        }}\n      >\n        <IoIosArrowUp />\n      </button>\n      <div className=\"basket-wrapper pt-2\">\n        {checkPosition.map((item) => {\n          id += 1;\n          return <BasketElement key={id} position={item} remover={removePosition1} />;\n        })}\n      </div>\n      <div className={totalClasses}>\n        <span>\n          {' '}\n          {checkPosition.length > 0 ? `Total cost: ${totalCost}$` : 'Your basket is empty!'}\n        </span>\n        <Button onClick={onContinue}>\n          <VscDebugContinue />\n          {' '}\n          Continue\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nBasket.propTypes = {\n  removePosition1: PropTypes.func.isRequired,\n  checkPosition: PropTypes.arrayOf(\n    PropTypes.objectOf(\n      PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string), PropTypes.number]),\n    ),\n  ).isRequired,\n  visitTime: PropTypes.string.isRequired,\n  tables: PropTypes.string.isRequired,\n};\n\nexport default Basket;\n","/* eslint-disable */\r\n\r\nimport firebase from './firebase';\r\n\r\nconst saveData = (key, data) => {\r\n  const isLoggedIn = !!firebase.auth().currentUser;\r\n  if (isLoggedIn) {\r\n    const db = firebase.database();\r\n    const userId = firebase.auth().currentUser.uid;\r\n    const userDataRef = db.ref(`users/${userId}/orders/`);\r\n\r\n    userDataRef.child(key).set(data);\r\n  }\r\n};\r\n\r\nexport { saveData };\r\n","/* eslint-disable react/button-has-type */\n/* eslint-disable no-undef */\n/* eslint-disable no-unused-vars */\n/* eslint-disable max-len */\n/* eslint-disable no-param-reassign */\nimport React, { useState } from 'react';\nimport {\n  Alert, Form, Col, Row, FormGroup, Label, Input,\n} from 'reactstrap';\nimport ReactNotification, { store } from 'react-notifications-component';\n\nimport Layout from '../components/layout';\nimport Options from '../components/additional/options';\nimport Basket from '../components/additional/basket';\nimport UserPanelTableRender from '../components/canvas/UserPanelTableRender';\n\nimport '../styles/addition.scss';\nimport '../styles/book.scss';\n\nexport default () => {\n  const [page, setPage] = useState('tables');\n\n  const [table, setTable] = useState('0');\n\n  const blockedTables = [1612197355808, 1612197359103, 1612197400830, 1612197348936];\n\n  let visitTime;\n  let tables;\n\n  function takeProps() {\n    tables = 'Столы';\n    visitTime = `${document.getElementById('date').value}T${\n      document.getElementById('time').value\n    }+03:00`;\n    console.log(tables, visitTime);\n  }\n\n  const [selectedAdditional, addElement] = React.useState([]);\n  function addAddition(element) {\n    // eslint-disable-next-line no-param-reassign\n    let isRepeat = false;\n    element.id = `${selectedAdditional.length}`;\n    selectedAdditional.forEach((item) => {\n      if (item.name === element.name) {\n        isRepeat = true;\n        item.quantity += 1;\n        item.time = [...item.time, element.time[0]];\n      }\n    });\n    if (isRepeat) {\n      addElement([...selectedAdditional]);\n    } else {\n      addElement([...selectedAdditional, element]);\n    }\n  }\n  function removePosition(positionId) {\n    let removeIndex = positionId;\n    selectedAdditional.forEach((item, index) => {\n      if (item.id === positionId) {\n        removeIndex = index;\n      }\n    });\n    selectedAdditional.splice(removeIndex, 1);\n    const newArray = selectedAdditional.slice();\n    addElement(newArray);\n  }\n\n  return page === 'tables' ? (\n    <>\n      <Layout>\n        <ReactNotification />\n        <main className=\"first-book d-flex\" />\n        <section className=\"date-choose\">\n          <h2>Please choose a time for your visit</h2>\n          <FormGroup>\n            <Label for=\"date\">Date</Label>\n            <Input\n              type=\"date\"\n              name=\"date\"\n              id=\"date\"\n              placeholder=\"date placeholder\"\n              // onChange={() => setTime({ date: `${document.getElementById('date').value}` })}\n            />\n          </FormGroup>\n          <FormGroup>\n            <Label for=\"time\">Time</Label>\n            <Input\n              type=\"time\"\n              name=\"time\"\n              id=\"time\"\n              placeholder=\"time placeholder\"\n            />\n          </FormGroup>\n        </section>\n        <button\n          onClick={() => {\n            if (document.getElementById('date').value && document.getElementById('time').value) {\n              setPage({\n                tables: table,\n                visitTime: `${document.getElementById('date').value}T${\n                  document.getElementById('time').value\n                }+03:00`,\n              });\n              takeProps();\n            } else {\n              store.addNotification({\n                title: 'Choose time!',\n                message: 'Choose a time to visit and book table',\n                type: 'warning',\n                insert: 'top',\n                container: 'top-right',\n                animationIn: ['animate__animated animate__fadeIn'],\n                animationOut: ['animate__animated animate__fadeOut'],\n                dismiss: {\n                  duration: 3000,\n                },\n              });\n            }\n          }}\n        >\n          To additions\n        </button>\n        <UserPanelTableRender blockedTables={blockedTables} />\n      </Layout>\n    </>\n  )\n    : (\n      <>\n        <Layout>\n          <ReactNotification />\n          <main className=\"d-flex flex-wrap\">\n            <section className=\"col-12 col-lg-9\">\n              <Options addAddition1={addAddition} />\n            </section>\n            <aside className=\"col-12 col-lg-3 basket-container\">\n              <Basket\n                removePosition1={removePosition}\n                key={selectedAdditional.length}\n                checkPosition={selectedAdditional}\n                visitTime={page.visitTime}\n                tables={page.tables}\n              />\n            </aside>\n          </main>\n        </Layout>\n      </>\n    );\n};\n","// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon;\n\nmodule.exports.VscDebugContinue = function VscDebugContinue(props) {\n  return GenIcon({\n    \"tag\": \"svg\",\n    \"attr\": {\n      \"viewBox\": \"0 0 16 16\",\n      \"fill\": \"currentColor\"\n    },\n    \"child\": [{\n      \"tag\": \"path\",\n      \"attr\": {\n        \"fillRule\": \"evenodd\",\n        \"clipRule\": \"evenodd\",\n        \"d\": \"M2.5 2H4v12H2.5V2zm3.5.18V14l9-5.938-9-5.881zm6.315 5.882L7.5 5v6.18l4.815-3.118z\"\n      }\n    }]\n  })(props);\n};","/* eslint-disable */\r\nimport React, { useRef, useEffect, useState } from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage';\r\nimport isNode from 'detect-node'\r\n\r\nconst userTableRender = ({ \r\n   bgImage, fbData, setTable, blockedTables\r\n   \r\n}) => { \r\n   const [answer, setData] = useState(0);\r\n   const [loadedTables, loadTables] = useState(0);\r\n   const ref = useRef(null)\r\n\r\n   useEffect(() => {\r\n      const fetchData = async () => {\r\n         const storage = firebase.storage();\r\n         const storageRef = storage.ref();\r\n         const imgURL = storageRef.child(`${bgImage}`);\r\n         // Get the download URL\r\n         imgURL.getDownloadURL().then((result) => {\r\n            setData(result);\r\n         });\r\n      };\r\n      const load = async () => {\r\n         const result = await firebase.database().ref('saved-tables').once('value').then((snapshot) => snapshot.val());\r\n         loadTables(result);\r\n      };\r\n      fetchData();\r\n      load();\r\n   }, []);\r\n\r\n   function createCanvas() {\r\n      let PIXI\r\n      if (!isNode) {\r\n         PIXI = require('pixi.js')\r\n      }\r\n      console.log(PIXI)\r\n      console.log('blockedTables: ', blockedTables);\r\n\r\n      const app = new PIXI.Application({\r\n         width: 1000,\r\n         height: 620,\r\n         backgroundColor: 0x5BBA6F,\r\n      });\r\n\r\n      ref.current.appendChild(app.view);\r\n\r\n      const backgroundImage = PIXI.Texture.from(answer);\r\n      const background = new PIXI.Sprite(backgroundImage);\r\n      app.stage.addChild(background);\r\n      background.width = app.screen.width;\r\n      background.height = app.screen.height;\r\n\r\n      if (loadedTables !== null) {\r\n         let activeTable;\r\n\r\n         loadedTables.map(el => {\r\n            const container = new PIXI.Container();\r\n            container.type = 'container'\r\n\r\n            container.x = el.x;\r\n            container.y = el.y;\r\n\r\n            const texture = PIXI.Texture.from(el.texture)\r\n            const table = new PIXI.Sprite(texture);\r\n            table.type = 'table'\r\n            table.index = el.index;\r\n            table.id = el.id\r\n            table.uniqueId = el.uniqueId\r\n            table.info = el.info;\r\n\r\n            table.anchor.set(0.5);\r\n            table.scale.x = el.scaleX;\r\n            table.scale.y = el.scaleY;\r\n            table.rotation = el.rotation;\r\n\r\n            if (blockedTables.includes(table.uniqueId)) {\r\n               table.buttonMode = false;\r\n               table.interactive = false;\r\n               table.tint = 0xcccccc;\r\n               table.alpha = 0.2;\r\n            } else {\r\n               table.buttonMode = true;\r\n               table.interactive = true;\r\n               table.tint = 0x808080;\r\n               table.alpha = 0.7;\r\n            }\r\n\r\n            container.addChild(table)\r\n\r\n            table\r\n               .on('pointertap', (ev) => {\r\n                  if (activeTable) {\r\n                     activeTable.tint = 0x808080;\r\n                     activeTable.alpha = 0.7;\r\n                  }\r\n                  activeTable = ev.target;\r\n                  activeTable.tint = 0xFFFFFF;\r\n                  activeTable.alpha = 1;\r\n\r\n                  fbData.forEach(el => {\r\n                     if (table.id === el.id) {\r\n                        const discription = el.description\r\n                        const price = el.price\r\n\r\n                        const tableInfo = document.getElementById('tableInfo')\r\n                        tableInfo.innerHTML = `\r\n                           <p>Table №:${table.index}</p>\r\n                           <p>Description:${discription}</p>\r\n                           <p>Table price:${price}</p>\r\n                        `;\r\n                     }\r\n                  })\r\n                  setTable( table.uniqueId )\r\n\r\n                  \r\n               });\r\n\r\n            const text = new PIXI.Text(el.index,\r\n               {\r\n                  font: '2rem',\r\n                  fill: 0x000000,\r\n                  align: 'center',\r\n                  cacheAsBitmap: true,\r\n               });\r\n            text.type = 'text'\r\n            text.anchor.set(0.5);\r\n            container.addChild(text);\r\n\r\n            app.stage.addChild(container)\r\n         })\r\n      } else {\r\n         const errorMessage = new PIXI.Text('Sorry, it is not possible to book a table at the moment. \\nPlease contact the administrator',\r\n            {\r\n               font: '2rem',\r\n               fill: 0xFFFFFF,\r\n               align: 'center',\r\n               cacheAsBitmap: true,\r\n            });\r\n         errorMessage.width = 800;\r\n         errorMessage.height = 150;\r\n         errorMessage.type = 'text'\r\n         errorMessage.anchor.set(0.5);\r\n         errorMessage.x = app.screen.width / 2;\r\n         errorMessage.y = app.screen.height / 2;\r\n\r\n         background.tint = 0x979797;\r\n\r\n         background.addChild(errorMessage)\r\n      }\r\n\r\n\r\n\r\n      \r\n         \r\n      \r\n   }\r\n\r\n   if (answer !== 0 && loadedTables !== 0) {\r\n      createCanvas()\r\n   }\r\n\r\n      return <>\r\n         <div ref={ref}></div>\r\n      </>;\r\n   \r\n};\r\n\r\nexport default userTableRender;\r\n","/* eslint-disable */\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport firebase from 'firebase/app';\r\nimport UserTableRender from './UserTableRender';\r\nimport 'firebase/database';\r\n\r\nconst userPanelTableRender = ({\r\n   setTable, blockedTables\r\n}) => {\r\n\r\n   const [fbData, setfbData] = useState(0);\r\n\r\n   useEffect(() => {\r\n      const fetchData = async () => {\r\n         const result = await firebase.database().ref('CanvasPreset').once('value').then((snapshot) => snapshot.val());\r\n         setfbData(result);\r\n      };\r\n      fetchData();\r\n   }, []);\r\n\r\n   return (\r\n      <div style={{ display:'flex', flexDirection:'row' }}>\r\n            {fbData ? <UserTableRender bgImage={fbData.bgImage} fbData={fbData.tables} setTable={setTable} blockedTables={blockedTables}/> :'false'}\r\n         <div>\r\n            <div id=\"tableInfo\">\r\n            </div>\r\n         </div>\r\n      </div>\r\n   );\r\n};\r\n\r\nexport default userPanelTableRender;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\n/* eslint react/prefer-stateless-function: 0 */\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport { mapToCssModules, warnOnce, tagPropType } from './utils';\nvar defaultProps = {\n  type: 'text'\n};\n\nvar Input = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Input, _React$Component);\n\n  function Input(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.getRef = _this.getRef.bind(_assertThisInitialized(_this));\n    _this.focus = _this.focus.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Input.prototype;\n\n  _proto.getRef = function getRef(ref) {\n    if (this.props.innerRef) {\n      this.props.innerRef(ref);\n    }\n\n    this.ref = ref;\n  };\n\n  _proto.focus = function focus() {\n    if (this.ref) {\n      this.ref.focus();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        cssModule = _this$props.cssModule,\n        type = _this$props.type,\n        bsSize = _this$props.bsSize,\n        valid = _this$props.valid,\n        invalid = _this$props.invalid,\n        tag = _this$props.tag,\n        addon = _this$props.addon,\n        plaintext = _this$props.plaintext,\n        innerRef = _this$props.innerRef,\n        attributes = _objectWithoutPropertiesLoose(_this$props, [\"className\", \"cssModule\", \"type\", \"bsSize\", \"valid\", \"invalid\", \"tag\", \"addon\", \"plaintext\", \"innerRef\"]);\n\n    var checkInput = ['radio', 'checkbox'].indexOf(type) > -1;\n    var isNotaNumber = new RegExp('\\\\D', 'g');\n    var fileInput = type === 'file';\n    var textareaInput = type === 'textarea';\n    var selectInput = type === 'select';\n    var rangeInput = type === 'range';\n    var Tag = tag || (selectInput || textareaInput ? type : 'input');\n    var formControlClass = 'form-control';\n\n    if (plaintext) {\n      formControlClass = formControlClass + \"-plaintext\";\n      Tag = tag || 'input';\n    } else if (fileInput) {\n      formControlClass = formControlClass + \"-file\";\n    } else if (rangeInput) {\n      formControlClass = formControlClass + \"-range\";\n    } else if (checkInput) {\n      if (addon) {\n        formControlClass = null;\n      } else {\n        formControlClass = 'form-check-input';\n      }\n    }\n\n    if (attributes.size && isNotaNumber.test(attributes.size)) {\n      warnOnce('Please use the prop \"bsSize\" instead of the \"size\" to bootstrap\\'s input sizing.');\n      bsSize = attributes.size;\n      delete attributes.size;\n    }\n\n    var classes = mapToCssModules(classNames(className, invalid && 'is-invalid', valid && 'is-valid', bsSize ? \"form-control-\" + bsSize : false, formControlClass), cssModule);\n\n    if (Tag === 'input' || tag && typeof tag === 'function') {\n      attributes.type = type;\n    }\n\n    if (attributes.children && !(plaintext || type === 'select' || typeof Tag !== 'string' || Tag === 'select')) {\n      warnOnce(\"Input with a type of \\\"\" + type + \"\\\" cannot have children. Please use \\\"value\\\"/\\\"defaultValue\\\" instead.\");\n      delete attributes.children;\n    }\n\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n      ref: innerRef,\n      className: classes,\n      \"aria-invalid\": invalid\n    }));\n  };\n\n  return Input;\n}(React.Component);\n\nInput.defaultProps = defaultProps;\nexport default Input;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar defaultProps = {\n  tag: 'div',\n  type: 'border',\n  children: 'Loading...'\n};\n\nvar Spinner = function Spinner(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      type = props.type,\n      size = props.size,\n      color = props.color,\n      children = props.children,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"type\", \"size\", \"color\", \"children\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, size ? \"spinner-\" + type + \"-\" + size : false, \"spinner-\" + type, color ? \"text-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({\n    role: \"status\"\n  }, attributes, {\n    className: classes\n  }), children && /*#__PURE__*/React.createElement(\"span\", {\n    className: mapToCssModules('sr-only', cssModule)\n  }, children));\n};\n\nSpinner.defaultProps = defaultProps;\nexport default Spinner;","// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon;\n\nmodule.exports.AiOutlineCloseCircle = function AiOutlineCloseCircle(props) {\n  return GenIcon({\n    \"tag\": \"svg\",\n    \"attr\": {\n      \"viewBox\": \"0 0 1024 1024\"\n    },\n    \"child\": [{\n      \"tag\": \"path\",\n      \"attr\": {\n        \"d\": \"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 0 0-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z\"\n      }\n    }, {\n      \"tag\": \"path\",\n      \"attr\": {\n        \"d\": \"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"\n      }\n    }]\n  })(props);\n};","// THIS FILE IS AUTO GENERATED\nvar GenIcon = require('../lib').GenIcon;\n\nmodule.exports.IoIosArrowUp = function IoIosArrowUp(props) {\n  return GenIcon({\n    \"tag\": \"svg\",\n    \"attr\": {\n      \"viewBox\": \"0 0 512 512\"\n    },\n    \"child\": [{\n      \"tag\": \"path\",\n      \"attr\": {\n        \"d\": \"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z\"\n      }\n    }]\n  })(props);\n};"],"sourceRoot":""}